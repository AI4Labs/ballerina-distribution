// A `Person` record is attached to the listener when attaching the service.
// It is then passed into the resource functions of the service.
// A random number between 10 and 15 will be generated and when the age is
// equal to that number, an error will be returned, which will cancel the
// listener eventually. Therefore cancellation of the listener will occur
// randomly.
# To run this sample, navigate to the directory that contains the
# `.bal` file and issue the `ballerina run` command.
$ ballerina run task_listener_timer.bal
Person Name: Sam Age: 1
Person Name: Sam Age: 2
Person Name: Sam Age: 3
Person Name: Sam Age: 4
Person Name: Sam Age: 5
Person Name: Sam Age: 6
Person Name: Sam Age: 7
Person Name: Sam Age: 8
Person Name: Sam Age: 9
Person Name: Sam Age: 10
Intended error {}
Stooping Sam at Person age: 11
Service stopped
